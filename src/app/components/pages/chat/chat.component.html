<body>
    <br>
    <div id="chat-container">
        <div id="search-container">Chat L&T</div>
        <div id="conversation-list">
            <div *ngFor="let room of rooms; index as i;" class="conversation {{room.active}}" (click)="cambiarChat(i)">
                <img
                    src="../../../../assets/img/perfil.jpg"
                >
                <div class="title-text">{{room.recipientId}}</div>
                <div class="conversation-message">{{room.messagesToRead}} mensajes sin leer</div>
            </div>

        </div>

        <div id="chat-title">
            <span *ngIf="conversacionActiva >= 0">{{rooms[conversacionActiva].recipientId}}</span>

        </div>
        <div id="chat-message-list" style="padding-top: 2%">
          <div *ngFor="let message of listaMessages">

            <div *ngIf="message.senderId == this.user.username" class="message-row you-message">
                <div class="message-content">
                    <div class="message-text">{{message.content}}</div>
                    <div class="message-time">{{message.timestamp.getDate()}}
                      {{monthNames[message.timestamp.getMonth()]}}</div>
                </div>
            </div>

            <div *ngIf="message.senderId != this.user.username" class="message-row other-message">
              <div class="message-content">
                <div class="message-text">{{message.content}}</div>
                <div class="message-time">{{message.timestamp.getDate()}}
                  {{monthNames[message.timestamp.getMonth()]}}</div>
              </div>
            </div>
          </div>



        </div>
        <div id="chat-form">
            <input
                type="text"
                placeholder="Escriba su mensaje"
                [(ngModel)]="message"
            >
            <div class="buttonChat">
                <button
                mat-fab
                mat-raised-button
                style="background-color: blue; "
                (click)="sendMessage()"
                >
                <mat-icon>send</mat-icon>

                </button>
        </div>

        </div>

    </div>

</body>
